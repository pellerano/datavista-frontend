<ion-content class="ion-padding">
  <ion-card class="ion-padding data-vista-login-card">
   <ion-img src="assets/images/datavista-turq.png" alt="Logo-DataVista-Turq"></ion-img>
   <h1>{{ translate('TITLE') }}</h1>

    <form [formGroup]="signUpForm" (ngSubmit)="onSignUp()">
      <ion-grid>
        <ion-row>
          <!-- Name -->
          <ion-col size="12" sizeMd="6">
            <ion-item lines="none">
              <ion-input
                type="text"
                labelPlacement="floating"
                [label]="translate('NAME')"
                [placeholder]="translate('NAME')"
                formControlName="name">
              </ion-input>
            </ion-item>
            @if (formControls['name'].invalid && (formControls['name'].touched || formControls['name'].dirty )) {
              <ion-text color="danger">
                @if (formControls['name'].errors?.['required']) {
                  <span>{{ translate('REQUIRED_ERROR') }}</span>
                }
              </ion-text>
            }
          </ion-col>
          <!-- Lastname -->
          <ion-col size="12" sizeMd="6">
            <ion-item lines="none">
              <ion-input
                type="text"
                labelPlacement="floating"
                [label]="translate('LASTNAME')"
                [placeholder]="translate('LASTNAME')"
                formControlName="lastname">
              </ion-input>
            </ion-item>
            @if (formControls['lastname'].invalid && (formControls['lastname'].touched || formControls['lastname'].dirty )) {
              <ion-text color="danger">
                @if (formControls['lastname'].errors?.['required']) {
                  <span>{{ translate('REQUIRED_ERROR') }}</span>
                }
              </ion-text>
            }
          </ion-col>
        </ion-row>
      </ion-grid>
      <!-- Email -->
      <ion-item lines="none" style="margin-top: 0.5rem;">
        <ion-input
          type="email"
          labelPlacement="floating"
          [label]="translate('EMAIL')"
          [placeholder]="translate('EMAIL')"
          formControlName="email">
        </ion-input>
      </ion-item>
      @if (formControls['email'].invalid && (formControls['email'].touched || formControls['email'].dirty )) {
        <ion-text color="danger">
          @if (formControls['email'].errors?.['required']) {
            <span>{{ translate('REQUIRED_ERROR') }}</span>
          }
          @if (formControls['email'].errors?.['email']) {
            <span>{{ translate('EMAIL_ERROR') }}</span>
          }
        </ion-text>
      }
      <ion-grid>
        <ion-row>
          <!-- Password -->
          <ion-col size="12" sizeMd="6">
            <ion-item lines="none">
              <ion-input
                type="password"
                labelPlacement="floating"
                [label]="translate('PASSWORD')"
                [placeholder]="translate('PASSWORD')"
                formControlName="password">
              </ion-input>
            </ion-item>
            @if (formControls['password'].invalid && (formControls['password'].touched || formControls['password'].dirty )) {
              <ion-text color="danger">
                @if (formControls['password'].errors?.['required']) {
                  <span>{{ translate('REQUIRED_ERROR') }}</span>
                }
              </ion-text>
            }
          </ion-col>
          <!-- Confirm Password -->
          <ion-col size="12" sizeMd="6">
            <ion-item lines="none">
              <ion-input
                type="password"
                labelPlacement="floating"
                [label]="translate('CONFIRM_PASSWORD')"
                [placeholder]="translate('CONFIRM_PASSWORD')"
                formControlName="confirmPassword">
              </ion-input>
            </ion-item>
            @if (formControls['confirmPassword'].invalid && (formControls['confirmPassword'].touched || formControls['confirmPassword'].dirty )) {
              <ion-text color="danger">
                @if (formControls['confirmPassword'].errors?.['required']) {
                  <span>{{ translate('REQUIRED_ERROR') }}</span>
                }
              </ion-text>
            }
            @if (signUpForm.hasError('passwordMismatch') && (signUpForm.touched || signUpForm.dirty) ) {
              <ion-text color="danger">
                <span>{{ translate('PASSWORD_MATCH') }}</span>
              </ion-text>
            }
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-button expand="block" type="submit" [disabled]="signUpForm.invalid">
        {{ translate('BUTTON') }}
      </ion-button>
    </form>

    <div class="divider">{{ translate('OR') }}</div>

    <a routerLink="/auth/login" class="login-link">{{ translate('LOGIN') }}</a>
  </ion-card>
</ion-content>
